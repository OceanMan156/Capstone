<!DOCTYPE html>
<html lang="en">
<body>
    <meta http-equiv="refresh" content="60">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <h1>
        Ocean AI
    </h1>
    <div class="slide-show">
        <% files.forEach(function (image, i) { %>
          <div class="slide fade">
            <div class="numberText"> <%= i + 1 %> / <%= files.length%> </div>
            <img src = "<%= image %>" style="width:100%;">
            <div class="caption"> <%= i + 1 %> generated Image </div>
          </div>
        <% }) %>

      <a class="prev" onclick="nextSlide(-1)">&#10094;</a>
      <a class="next" onclick="nextSlide(1)">&#10095;</a>
    </div>
    <br>
    <div class="Title">
        <h2>Available API Calls</h2>
    </div>
    <div class="APIS">
        <div class="APIOne">
            <h3> Get Current Juptyper Notebook Sessions </h3>
            <p>
              <form action="/get_session" method="GET">
                <label>Get Available Session: </label>
                <!-- Creating the submit button -->
                <button>Submit</button>
              </form>
            </p>
            <% if(sessions.length > 0){ %>
                <% sessions.forEach(session => { %>
                    <h3> Session Name: <%= session.name%> </h3>
                    <p> Activity: <%= session.kernel.last_activity%> </p>
                    <p> Status: <%= session.kernel.execution_state%> </p>
                <% }) %>
            <% } else { %>
                <p>Currently No Session Available</p>
            <% } %>
        </div>
        <div class="APITwo">
            <p>
              <form action="/create_session" method="POST">
                <h4>Create New Session</h4>
                <label>Notebook Name: </label>
                <input class="input" id="notebook" name="notebook" type="name" value="" />
                <!-- Creating the submit button -->
                <button>Submit</button>
              </form>
            </p>
        </div>
    </div>
    <script>
      let slideIndex = 1;
      displaySlides(slideIndex);

      function displaySlides(index){
        let slides = document.getElementsByClassName("slide");
        // Slide Wrapping
        if (index > slides.length){slideIndex = 1;}
        if (index < 1){slideIndex = slides.length;}

        for(let i = 0; i < slides.length; i++){
          slides[i].style.display = "none";
        }
        console.log(slides.length);
        console.log(slideIndex);
        slides[slideIndex - 1].style.display = "block";
      }

      function nextSlide(index){
        displaySlides(slideIndex += index);
      }
    </script>
</body>
</html>
